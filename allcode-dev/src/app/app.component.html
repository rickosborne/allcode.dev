<section class="mat-app-background app-wrapper">
<mat-toolbar color="primary">
  <a [routerLink]="['/']" class="logo-link">
    <svg class="ac-logo ac-logo-white" viewBox="0 0 468.15 414" xmlns="http://www.w3.org/2000/svg">
      <polygon points="125.05 235.27 192.25 235.27 158.87 126.57 125.05 235.27" class="ac-logo-fill"/>
      <path d="M485.79,240l-101-175A32,32,0,0,0,357,49H155a32,32,0,0,0-27.71,16l-101,175a32,32,0,0,0,0,32l101,175A32,32,0,0,0,155,463H357a32,32,0,0,0,27.71-16l101-175A32,32,0,0,0,485.79,240ZM237.07,357.38l-16.25-51.84H140.33l-16.25,51.84H98.83L165,154h32.79L264,357.38Zm114.71,3.39c-49.62,0-88-36.92-88-105.15,0-68.53,39.87-104.86,87-104.86,26.58,0,42.83,6.79,58.92,19.79l-14.32,16.69c-12.85-10.78-27.18-15.07-42.68-15.07-33.38,0-62.33,21.27-62.33,83.45,0,60.55,27.18,83.15,61.74,83.15,22.74,0,36.47-8.13,47.26-17l13.29,16.84C400.22,350.73,380.73,360.77,351.78,360.77Z" transform="translate(-21.93 -49)" class="ac-logo-fill"/>
    </svg>
  </a>
  <h1>{{ pageTitle$ | async }}</h1>
  <span class="expando"></span>
  <div *ngIf="user$ | async as user ; else noSession">
    <button mat-flat-button [matMenuTriggerFor]="signedInMenu" color="primary" aria-label="Signed-in user controls">
      <span [textContent]="user.displayName"></span>
      &nbsp;
      <mat-icon class="material-icons">menu</mat-icon>
    </button>
    <mat-menu #signedInMenu="matMenu">
      <button mat-menu-item (click)="signOut()">Sign out</button>
      <a mat-menu-item routerLink="/privacy-policy">Privacy Policy</a>
    </mat-menu>
  </div>
</mat-toolbar>

<ng-template #noSession>
  <div>
    <button mat-flat-button [matMenuTriggerFor]="signedOutMenu" color="primary">
      Sign&nbsp;In
      &nbsp;
      <mat-icon class="material-icons">menu</mat-icon>
    </button>
    <mat-menu #signedOutMenu="matMenu">
      <button mat-menu-item (click)="signInWithGitHub()">Sign in with GitHub</button>
      <button mat-menu-item (click)="signInWithGoogle()">Sign in with Google</button>
      <button mat-menu-item (click)="signInWithAnon()">Sign in anonymously</button>
      <a mat-menu-item routerLink="/privacy-policy">Privacy Policy</a>
    </mat-menu>
  </div>
</ng-template>

<main class="main-content">
<router-outlet></router-outlet>
</main>
</section>
